<!DOCTYPE html>
<html>

<head>
    <!-- CSS only -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
        integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
        crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
</head>

<body>
    <div class="container">
    <h1>{{.Title}}</h1>
    <div>
        <table>
            <tr>
                <td><a href="/download">Download</a></td>
                <td><a href="/save">Save</a></td>
            </tr>
        </table>
    </div>
    <div>
        <table>
            <tr>
                <th scope="row">Total Clues:</td>
                <td>{{.Tally.TotalClues}}</td>
            </tr>
            <tr>
                <th scope="row">Counted Clues:</td>
                <td>{{.Tally.CountedClues}}</td>
            </tr>
            <tr>
                <th scope="row">Total Emergencies:</td>
                <td>{{.Tally.TotalEmergencies}}</td>
            </tr>
            <tr>
                <th scope="row">Counted Emergencies:</td>
                <td>{{.Tally.CountedEmergencies}}</td>
            </tr>
            <tr>
                <th scope="row">Last Save:</td>
                <td>{{.Tally.LastSaved.Format "Jan 02, 2006 15:04:05"}}</td>
            </tr>
        </table>
    </div>
    <div>
        <table class="table">
            <tr>
                <th><a href="/?sort=">Car</a></th>
                <th>Scanned</th>
                <th><a href="/?sort=leader">Clue<br>Count</a></th>
                <th>Emergency<br>Count</th>
                <th>Clues</th>
                <th>Emergencies</th>
                <th>Last Scan</th>
                <th></th>
            </tr>
            {{range .Cars}}
            {{if ne .CarNum 0 }}
            {{if .Scanned}}
            <tr class="done">
                {{else}}
            <tr class="notdone">
                {{end}}
                <td>{{.CarNum}}</td>
                <td>{{.Scanned}}</td>
                <td>{{.Clues}}</td>
                <td>{{.Emergencies}}</td>
                <td>{{.ClueList}}</td>
                <td>{{.EmergencyList}}</td>
                <td>{{.ScanTime.Format "Jan 02, 2006 15:04:05" }}</td>
                <td><a href="/edit?car={{.CarNum}}">Edit...</a></td>
            </tr>
            {{end}}
            {{end}}
        </table>
    </div>
    <div>
        <table>
            <tr>
                <th>Scanner</th>
                <th>Count</th>
                <th>Last Scan</th>
            </tr>
            {{range .Scanners}}
            <tr class="done">
                <td>{{.ScannerNum}}</td>
                <td>{{.ScanCount}}</td>
                <td>{{.LastScanTime.Format "Jan 02, 2006 15:04:05" }}</td>
            </tr>
            {{end}}
        </table>
    </div>
</div>
    <style>
        table,
        th,
        td {
            border: 1px solid black;
            border-collapse: collapse;
            padding: 10px;
        }

        .notdone {
            background-color: tomato;
            opacity: .4;
        }
    </style>
</body>